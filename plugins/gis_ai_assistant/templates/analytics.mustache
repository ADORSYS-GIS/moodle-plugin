<div id="ai-analytics-root" class="analytics-dashboard" role="main" aria-label="AI Usage Analytics">
    <header class="dashboard-header">
        <h1>{{#str}}analytics_title, local_gis_ai_assistant{{/str}}</h1>
        <div class="controls" role="toolbar">
            <label for="analytics-period-selector">{{#str}}analytics_period, local_gis_ai_assistant{{/str}}</label>
            <select id="analytics-period-selector">
                {{#periods}}
                    <option value="{{value}}">{{label}}</option>
                {{/periods}}
            </select>
            <select id="analytics-export-format">
                {{#export_formats}}
                    <option value="{{.}}">{{.}}</option>
                {{/export_formats}}
            </select>
            <button id="analytics-export-btn">{{#str}}export, local_gis_ai_assistant{{/str}}</button>
            <button id="analytics-retry-btn" style="display:none;">{{#str}}retry, local_gis_ai_assistant{{/str}}</button>
        </div>
    </header>

    <!-- Skeleton for loading -->
    <div class="skeleton-loading" aria-hidden="true">
        <div class="kpi-grid">
            <div class="kpi-card skeleton-pulse"></div>
            <div class="kpi-card skeleton-pulse"></div>
            <div class="kpi-card skeleton-pulse"></div>
            <div class="kpi-card skeleton-pulse"></div>
        </div>
        <div class="charts-grid">
            <div class="chart-card chart-skeleton skeleton-pulse"></div>
            <div class="chart-card chart-skeleton skeleton-pulse"></div>
        </div>
    </div>

    <div class="dashboard-content" style="display:none;">
        <section class="kpi-section">
            <div class="kpi-grid"><!-- JS will populate --></div>
        </section>

        <section class="charts-section">
            <div class="charts-grid">
                <div class="chart-card">
                    <canvas id="usage-over-time"></canvas>
                </div>
                <div class="chart-card">
                    <canvas id="model-distribution"></canvas>
                </div>
            </div>
        </section>

        <section class="tables-section">
            <div class="tables-grid">
                <table id="top-users-table" class="table" aria-label="Top Users">
                    <thead>
                        <tr>
                            <th>{{#str}}users, local_gis_ai_assistant{{/str}}</th>
                            <th>{{#str}}request_count, local_gis_ai_assistant{{/str}}</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </section>
    </div>
</div>