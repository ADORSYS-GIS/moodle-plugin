{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Project Documentation","text":"<p>This documentation provides comprehensive information about the Moodle plugin project.</p> <ul> <li>Overview</li> <li>Features</li> <li>What is Moodle</li> <li>Concepts \u2192 Architecture</li> <li>Guides:</li> <li>Moodle Operation</li> <li>Local Moodle with Docker</li> <li>Online Moodle with k8s</li> <li>k8s Operator Model</li> <li>Moodle Optimisations with Rust</li> </ul>"},{"location":"features/","title":"Moodle Platform \u2014 Exclusive Features! \u2728\ud83d\ude80","text":"<p>This document highlights the unique and powerful features of our custom Moodle Platform, designed to supercharge your online learning experience.</p>"},{"location":"features/#what-makes-our-moodle-special","title":"What Makes Our Moodle Special? \ud83e\udd14","text":"<p>We've taken the world-leading Moodle platform and added some seriously impressive enhancements to make it faster, more reliable, and incredibly flexible. Here's how we stand out:</p>"},{"location":"features/#performance-boosts-with-rust","title":"\u26a1 Performance Boosts with Rust","text":"<p>We've rebuilt key parts of Moodle using Rust, a super-fast programming language. This means:</p> <ul> <li>Lightning-Fast Execution: Imagine a race car engine under the hood! Selective \"hotspots\" in Moodle's code run much   quicker, leading to a snappier experience for users.</li> <li>High-Speed Backup/Restore: Our custom Rust binary replaces older, slower scripts, making backups and restores of   your Moodle data incredibly fast. No more long waits!</li> </ul>"},{"location":"features/#first-class-kubernetes-operator","title":"\u2699\ufe0f First-Class Kubernetes Operator","text":"<p>Our custom operator, also written in Rust, intelligently manages your Moodle deployment on Kubernetes (a powerful system for running applications). This provides:</p> <ul> <li>Blue-Green Upgrades: Seamless, zero-downtime updates to your Moodle platform. Users won't even notice changes   happening in the background!</li> <li>Automatic Backup Scheduling: Your data is automatically backed up, ensuring peace of mind and robust recovery   options.</li> <li>Horizontal Autoscaling: Moodle automatically adjusts its capacity to handle more users or traffic as needed,   ensuring smooth performance even during peak times.</li> <li>Manages Moodle Pods &amp; Database Proxies: Our operator handles the technical heavy lifting, keeping your Moodle   instances and database connections optimized.</li> </ul>"},{"location":"features/#on-the-fly-image-optimization-with-imgproxy","title":"\ud83d\uddbc\ufe0f On-the-Fly Image Optimization with <code>imgproxy</code>","text":"<p>We integrate <code>imgproxy</code> to handle all your Moodle's image needs:</p> <ul> <li>Dynamic Image Resizing &amp; Cropping: Images stored in Object Storage (S3/GCS/MinIO) are instantly resized and   optimized for different devices and screen sizes.</li> <li>Faster Page Loads: Deliver perfectly sized images every time, drastically reducing page load times and improving   the user experience.</li> <li>Effortless Image Management: No manual image preparation needed; <code>imgproxy</code> handles it all automatically.</li> </ul>"},{"location":"features/#advanced-ai-capabilities-with-kserve-local-inference","title":"\ud83e\udde0 Advanced AI Capabilities with KServe (Local Inference!)","text":"<p>Leveraging Moodle 5.0's new AI subsystem, we integrate KServe to bring powerful Artificial Intelligence capabilities directly into your learning environment. This means:</p> <ul> <li>Secure Local AI Processing: AI models run within your own Kubernetes (k3s) cluster, keeping sensitive data   private and secure without sending it to external cloud AI services. \ud83d\udd12</li> <li>Super Scalable AI Inference: KServe efficiently deploys and scales your AI models (including large language   models!). It automatically scales up during high demand and even scales down to zero when not in use, optimizing   resource usage on your infrastructure. \ud83d\udcc8</li> <li>Low Latency AI Responses: Since the AI models run \"locally\" within your environment, AI-powered features (like   content explanation) respond much faster, providing a seamless user experience. \u26a1</li> <li>Flexible Model Support: KServe supports a wide range of popular machine learning frameworks, allowing us to deploy   diverse AI models tailored to Moodle's specific needs, from content generation to intelligent feedback. \ud83d\udca1</li> <li>Cost-Efficient AI: By performing inference locally on your own hardware, you avoid ongoing API call costs   typically associated with cloud-based AI services. \ud83d\udcb0</li> </ul>"},{"location":"features/#flexible-automated-deployment","title":"\u2601\ufe0f Flexible &amp; Automated Deployment","text":"<p>Our platform is built for modern, efficient deployment:</p> <ul> <li>Cloud-Agnostic Distribution: Deploy Moodle seamlessly on any cloud provider (AWS, Google Cloud, Azure) or even on   your own on-premise infrastructure. You choose where it lives!</li> <li>Local Development in Docker: Developers can easily set up and work on Moodle on their local machines using Docker, ensuring consistency and a smooth workflow.</li> <li>End-to-End Provisioning with Terraform: We use Terraform to automate the entire setup process, from   infrastructure to application deployment, ensuring repeatable and error-free environments across development, staging,   and production.</li> <li>Multi-Modal Deployment Capabilities: We support and validate five distinct deployment archetypes: serverless, pure   Kubernetes, pure cloud, pure container, and bare-metal. This means unmatched flexibility to fit any IT strategy.</li> </ul>"},{"location":"features/#opinionated-efficient-cicd","title":"\ud83d\udee0\ufe0f Opinionated &amp; Efficient CI/CD","text":"<p>Our integrated Continuous Integration/Continuous Delivery (CI/CD) workflows streamline development and deployment:</p> <ul> <li>GitHub Actions Workflows: Automated processes handle linting (code quality checks), testing, building optimized   Moodle images, applying Terraform configurations, and rolling out Helm charts for seamless updates.</li> <li>Consistent Releases: This ensures high-quality, repeatable deployments with minimal manual intervention.</li> </ul>"},{"location":"features/#modular-extensible-design","title":"\ud83c\udfd7\ufe0f Modular &amp; Extensible Design","text":"<p>Our Moodle is built like LEGOs, offering great flexibility:</p> <ul> <li>Independent Versioning: PHP plugins and Rust crates (code modules) are versioned independently within a single   repository. This makes managing updates and new features much simpler.</li> </ul>"},{"location":"features/#rust-powered-learning-enhancements","title":"\u2728 Rust-Powered Learning Enhancements","text":"<p>We've integrated Rust to bring advanced capabilities directly into Moodle's learning experience:</p> <ul> <li>On-the-Fly Video Transcoder: A Rust micro-service exposed via API instantly transcodes videos as needed, ensuring   smooth playback across all devices without large file downloads.</li> <li>WebAssembly Question Types: Engage learners with rich, interactive quiz questions powered by Rust-compiled   WebAssembly embedded directly in the quiz UI.</li> <li>PHP FFI Accelerators: Rust extensions significantly speed up critical operations like hashing and grade   calculations (achieving 3x speed-up!), making Moodle more responsive for both learners and administrators.</li> </ul>"},{"location":"overview/","title":"Moodle Platform \u2014 Your Go-To Learning Solution! \ud83d\ude80","text":"<p>Welcome to the Moodle Platform! Think of this as your quick guide to understanding what we're all about. By the time you've read this, you'll know the answers to these three super important questions:</p> <ol> <li>What are we building? \ud83e\udd14</li> <li>Why are we building it? \ud83c\udfaf</li> <li>How is the work organized? \ud83d\udc77\u200d\u2640\ufe0f</li> </ol>"},{"location":"overview/#1-what-are-we-building","title":"1. What are we building? \ud83e\udd14","text":"<p>We're creating a super-powered version of Moodle, the world's most popular open-source learning platform! Moodle is like the ultimate online classroom, used by millions globally to create amazing courses and learning communities. It's built on PHP (a common web language) and kept awesome by Moodle HQ and a huge worldwide community.</p> <p>Imagine Moodle, but easier to set up, faster, and ready for anything! Our special version is designed to be:</p> <ul> <li>Ready-to-Go (Turnkey): Like a pre-built house, it\u2019s ready to use right away! \ud83c\udfe0</li> <li>Cloud-Agnostic: It works on any cloud provider (like Amazon, Google, Microsoft) or even on your own servers \u2013   total flexibility! \u2601\ufe0f</li> <li>Easy to Develop Locally: Developers can work on it easily on their own computers using Docker (think of Docker   as a magic box that holds all the necessary tools). \ud83d\udc33</li> <li>Simple to Deploy: We deploy it to Kubernetes (k3s), which is like a smart manager for applications, making   sure Moodle runs smoothly. We even have a custom \"operator\" built in Rust (a super-fast programming language) to   help! \u2699\ufe0f</li> <li>Automated Setup: We use Terraform to set everything up end-to-end automatically. No manual clicking needed!   \ud83c\udfd7\ufe0f</li> </ul>"},{"location":"overview/#what-makes-our-moodle-stand-out","title":"What makes our Moodle stand out? \u2728","text":"<ul> <li>Super Fast Performance (Thanks, Rust!): We've rebuilt some key parts using Rust to make Moodle run much, much   faster. Imagine upgrading a regular car engine to a race car engine! \ud83c\udfce\ufe0f\ud83d\udca8</li> <li>Smart Kubernetes Operator: Our special Rust operator handles all the tricky stuff like \"blue-green\" upgrades (   updating without downtime!), automatic backups (so you never lose your work!), and automatically adjusting to handle   more users (autoscaling). \ud83e\udde0\ud83d\udcbe</li> <li>Smooth &amp; Automated Setup (CI/CD): We use GitHub Actions to automatically check, test, build, and deploy   Moodle. This means less manual work and fewer mistakes! \u2705\ud83d\udd04</li> <li>Modular Design: Our Moodle is built like LEGOs! \ud83e\uddf1 Different parts (PHP plugins and Rust components) can be updated   independently, making maintenance and new features easier to manage.</li> </ul>"},{"location":"overview/#2-why-are-we-building-it-project-goals","title":"2. Why are we building it? (Project Goals) \ud83c\udfaf","text":"<p>We're building this enhanced Moodle for some very important reasons, aiming for big wins for both our team and our customers!</p> <ul> <li>Faster Learning for New Engineers: We want new team members to get up to speed quickly!</li> <li>Our Goal: Onboarding new engineers in 5 days or less. \u23f1\ufe0f</li> <li>Consistent &amp; Reliable Deployments: We want Moodle to be deployed the exact same way every time, whether it's for   testing or for our customers.</li> <li>Our Goal: No unexpected changes reported by Terraform for two releases in a row. \u2728</li> <li>Significant Performance Boosts: Make Moodle lightning fast!</li> <li>Our Goal: At least 30% faster page loading for complex courses. \ud83d\ude80</li> <li>Top-Noch Reliability: Ensure Moodle is always available when you need it.</li> <li>Our Goal: 99.9% uptime (that's almost always on!) and recovery from any issues in less than 15 minutes. \ud83d\udcaa</li> <li>Flexible Deployment Options: Make Moodle deployable in many different ways to suit various needs.</li> <li>Our Goal: By Q4 2025, deliver and prove five different ways to deploy Moodle (like serverless, pure Kubernetes,     cloud-only, container-only, or on your own hardware). \ud83c\udf0d</li> </ul>"},{"location":"overview/#moodles-amazing-core-features-what-it-does-best","title":"Moodle's Amazing Core Features (What it Does Best!) \ud83d\udcda","text":"<p>Moodle is packed with features designed to make online learning powerful and easy. Here\u2019s what\u2019s included:</p> <ul> <li>Customizable Look &amp; Feel: Easily change how your Moodle site looks \u2013 add your logo, pick colors, arrange sections,   or even create totally unique designs! \ud83c\udfa8</li> <li>Secure Sign-in &amp; Easy Enrolment: Over 50 ways for users to sign in (like with Google, Microsoft, or your company's   system) and smart ways to get people into the right courses at the right time.\ud83d\udd12</li> <li>Multilingual Support: Moodle speaks your language! The entire interface can be translated, and teachers can even   offer course materials in different languages. \ud83d\udde3\ufe0f\ud83c\udf0d</li> <li>Rich Learning Activities &amp; Resources: A huge variety of built-in tools for learning \u2013 like forums for   discussions, quizzes for testing, assignments for submissions, and resources like pages or files. This   means endless ways to teach and learn! \ud83d\udcd6\u270d\ufe0f</li> <li>Track Progress &amp; Skills: Keep an eye on how learners are doing with completion tracking for activities and   courses. You can also set up custom skill frameworks and learning plans to monitor mastery. \ud83d\udcca</li> <li>Flexible Grading &amp; Assessment: Easy-to-use gradebooks with different grading scales, smart ways to combine grades,   and built-in tools like rubrics for fair assessment. Quizzes support tons of question types too! \u2705</li> <li>Collaboration &amp; Communication: Moodle makes it easy to talk and work together with forums, direct messaging   , announcements, and group tools. It also integrates with video conferencing tools like BigBlueButton for   live online classes! \ud83d\udcac\ud83e\udd1d</li> <li>Powerful Analytics &amp; Reporting: Get detailed insights into learner activity, track progress, and create custom   reports. Dashboards help identify students who might need extra help. \ud83d\udcc8\ud83e\uddd0</li> <li>Mobile App &amp; Offline Learning: The official Moodle mobile app lets learners access courses on their phones, get   notifications, work offline (like drafting assignments), and even interact with H5P content! \ud83d\udcf1</li> <li>Thousands of Plugins: Moodle is super flexible! Thousands of community-made plugins can add extra features for   anything from gamification to attendance, plagiarism checking, and much more. \ud83d\udd0c</li> </ul>"},{"location":"overview/#whats-new-in-moodle-50-released-june-30-2025","title":"What's New in Moodle 5.0 (Released June 30, 2025!) \ud83e\udd29","text":"<p>Moodle 5.0 is a huge upgrade, bringing over a hundred improvements focused on making Moodle smarter, easier to use, more accessible, and simpler to manage!</p>"},{"location":"overview/#ai-enhancements","title":"AI Enhancements \ud83e\udd16","text":"<ul> <li>Custom AI Integration: Connect your own AI models using the Ollama API!</li> <li>Flexible AI Settings: Set up multiple AI tools and fine-tune how each model behaves.</li> <li>\"Explain\" Option for Learners: Students can now ask Moodle to explain content on demand \u2013 instant clarity! \u2728</li> <li>AI Policy &amp; Usage Reports: Admins can easily see who's agreed to AI policies and track overall AI usage.</li> </ul>"},{"location":"overview/#content-activity-management","title":"Content &amp; Activity Management \ud83d\udccb","text":"<ul> <li>Activities Overview: New dashboards for teachers and students to see all course activities at a glance \u2013 super   helpful for staying organized!</li> <li>Centralized Question Banks: Create quizzes faster with a central place for all your questions and six powerful   ways to filter them. \ud83e\udde0</li> </ul>"},{"location":"overview/#accessibility-editing","title":"Accessibility &amp; Editing \u270d\ufe0f","text":"<ul> <li>Longer Image Descriptions: Up to 750 characters for alt-text means better descriptions for visually impaired   users. \ud83d\udc53</li> <li>Improved Media Editing: Easily drag-and-drop media, use MP3s, and enjoy a more intuitive experience when editing   content. \ud83c\udfac</li> </ul>"},{"location":"overview/#assessment-notifications","title":"Assessment &amp; Notifications \ud83d\udcaf","text":"<ul> <li>Grade Penalties for Late Submissions: Automatically apply and display penalties for late assignments right in the   gradebook. \u23f0</li> <li>SMS Notifications for Feedback: Notify students about their assignment feedback via text messages, including file   details. \ud83d\udcf2</li> <li>New \"Graded\" Filter &amp; BigBlueButton Grading: Quickly find graded submissions and manually assign grades to   BigBlueButton video sessions.</li> </ul>"},{"location":"overview/#miscellaneous-enhancements","title":"Miscellaneous Enhancements \ud83c\udf89","text":"<ul> <li>Pre-created Quiz Attempts: Boost quiz performance by creating attempts in advance.</li> <li>Duplicate Custom Reports: Speed up your reporting setup by duplicating existing reports.</li> <li>User Tour Exclusions &amp; H5P Autoplay: Exclude user tours from specific categories and enjoy automatic H5P content   playback in the mobile app.</li> </ul> <p>With this latest release, Moodle continues to evolve into a more intelligent, accessible, and user-friendly platform\u2014empowering educators and learners alike.</p>"},{"location":"overview/#our-rust-powered-enhancements-the-extra-good-stuff","title":"Our Rust-Powered Enhancements (The Extra Good Stuff!) \ud83d\ude80","text":"<p>Here\u2019s where our Rust magic makes Moodle even better:</p> <ul> <li>Super-Fast Backup/Restore: Quickly save and restore your Moodle data with a powerful new tool. \u26a1</li> <li>Smart Auto-Scaling Operator: Automatically manages Moodle's capacity and database connections to handle more users   or traffic. \ud83d\udcc8</li> <li>On-the-Fly Image Optimization with <code>imgproxy</code>: We use <code>imgproxy</code> to instantly resize, crop, and optimize images   stored in Object Storage (S3/GCS/MinIO) for every device and screen size. This means faster page loads and   perfect-looking images without manual effort! \ud83d\uddbc\ufe0f\ud83d\udca8</li> <li>Interactive Quiz Questions: New types of quiz questions powered by WebAssembly for richer interactions. \ud83d\udcdd</li> <li>Accelerated Calculations: Makes complex calculations (like grading) much, much faster using Rust extensions \u2013 up   to 3 times quicker! \u2795\u2796\u2716\ufe0f\u2797</li> </ul>"},{"location":"what-is-moodle/","title":"What is Moodle","text":"<p>Moodle is a leading open-source Learning Management System (LMS) used worldwide to create fully-featured online courses and learning communities. It\u2019s written in PHP, distributed under GPLv3+, and maintained by Moodle HQ together with a global open-source community (Wikipedia).</p>"},{"location":"what-is-moodle/#core-features","title":"Core Features","text":"<ol> <li> <p>Customisable Site Design and Layout    Easily tailor the look and feel of your Moodle site\u2014logos, colour schemes, block layouts, and even entirely bespoke    themes are supported (docs.moodle.org).</p> </li> <li> <p>Secure Authentication &amp; Mass Enrolment    Over 50 authentication methods (LDAP, OAuth2, SAML, manual, guest access, etc.) and enrolment plugins allow you to    control who joins which courses and when (docs.moodle.org).</p> </li> <li> <p>Multilingual Capability    Full interface translation and language packs let learners view content in their preferred language, while teachers    can offer multilingual course materials (docs.moodle.org).</p> </li> <li> <p>Learning Activities &amp; Resources    A rich assortment of built-in activities (forums, wikis, glossaries, quizzes, assignments, databases, lessons,    workshops) and resource types (pages, files, URLs) enables diverse pedagogical approaches (docs.moodle.org).</p> </li> <li> <p>Progress Tracking &amp; Competencies    Activity- and course-level completion tracking, custom competency frameworks, and learning plans help both learners    and educators monitor progress and mastery (docs.moodle.org).</p> </li> <li> <p>Gradebook &amp; Assessment Tools    Flexible grading scales, advanced aggregation methods, grade overrides, and built-in rubrics/workflow support    seamless assessment. Quizzes support dozens of question types plus import/export via IMS QTI or    GIFT (docs.moodle.org).</p> </li> <li> <p>Collaboration &amp; Communication    Forums, messaging, announcements, group/team management, and peer-assessment activities foster interaction.    Integration with BigBlueButton and other conferencing tools enables real-time virtual    classrooms (docs.moodle.org).</p> </li> <li> <p>Analytics &amp; Reporting    Detailed logs, activity reports, completion reports, and custom report tools let admins and instructors gain    insights. Learning analytics dashboards help identify at-risk learners (docs.moodle.org).</p> </li> <li> <p>Mobile App &amp; Offline Learning    The official Moodle mobile app offers responsive course access, push notifications, offline work (draft submissions,    downloaded materials), and H5P interactivity (docs.moodle.org).</p> </li> <li> <p>Extensibility via Plugins     Thousands of community-contributed plugins cover everything from gamification to attendance, plagiarism detection,     content import/export, authentication, enrolment, and more (docs.moodle.org).</p> </li> </ol>"},{"location":"what-is-moodle/#whats-new-in-moodle-50-released-june-30-2025","title":"What\u2019s New in Moodle 5.0 (Released June 30, 2025)","text":"<p>Moodle 5.0 brings over a hundred enhancements focused on AI, usability, accessibility, and administration (docs.moodle.org):</p>"},{"location":"what-is-moodle/#ai-enhancements","title":"AI Enhancements","text":"<ul> <li>Ollama API Provider: Integrate custom LLMs via the Ollama API.</li> <li>Provider Instances &amp; Per-Model Settings: Create multiple AI provider instances and fine-tune behaviour per model.</li> <li>\u2018Explain\u2019 Option: Learners can request on-demand content explanations.</li> <li>AI Policy &amp; Usage Reports: Admin dashboards to monitor who\u2019s accepted AI policies and overall AI usage.</li> </ul>"},{"location":"what-is-moodle/#content-activity-management","title":"Content &amp; Activity Management","text":"<ul> <li>Activities Overview: New teacher and student dashboards to track all course activities at a glance.</li> <li>Course Question Banks &amp; Filters: Centralised question banks with six powerful filtering options for faster quiz   creation.</li> </ul>"},{"location":"what-is-moodle/#accessibility-editing","title":"Accessibility &amp; Editing","text":"<ul> <li>Longer Image Descriptions: Up to 750 characters for alt-text to improve accessibility.</li> <li>TinyMCE Improvements: Drag-and-drop media, MP3 format option, and more intuitive media editing.</li> </ul>"},{"location":"what-is-moodle/#assessment-notifications","title":"Assessment &amp; Notifications","text":"<ul> <li>Grade Penalties for Late Submissions: Set and display automatic late penalties within the gradebook.</li> <li>Assignment SMS Notifications: Notify students of feedback via SMS, including file details.</li> <li>New \u2018Graded\u2019 Filter &amp; BigBlueButton Grading: Quickly filter graded submissions and manually assign grades to   BigBlueButton sessions.</li> </ul>"},{"location":"what-is-moodle/#miscellaneous-enhancements","title":"Miscellaneous Enhancements","text":"<ul> <li>Pre-created Quiz Attempts to boost quiz performance.</li> <li>Custom Report Duplication for quicker report setup.</li> <li>Category-Level User Tours exclusion and H5P Autoplay in the mobile app.</li> </ul> <p>With this latest release, Moodle continues to evolve into a more intelligent, accessible, and user-friendly platform\u2014empowering educators and learners alike.</p>"},{"location":"concepts/01-architecture/","title":"Architecture Overview","text":"<p>This document provides a high-level view of the Moodle Platform architecture, showing how all components interact across different deployment models.</p>"},{"location":"concepts/01-architecture/#1-logical-components","title":"1. Logical Components","text":"<p>This architecture directs incoming traffic from end users through an API Gateway into our Kubernetes cluster. Inside the cluster, we deploy the Moodle web tier, run our Rust operator, and optionally host AI inference services, while all persistent state (databases, object storage) and batch operations (backups, cron jobs) are managed externally or via dedicated K8s primitives.</p> <pre><code>graph TD\n    A[End Users] --&gt; B[API Gateway / Ingress]\n    B --&gt; C[Kubernetes Cluster]\n    C --&gt; D[\"Moodle Web (Deployment)\"]\n    D --&gt; E[Redis Cache &amp; Sessions]\n    C --&gt; F[\"Moodle Operator (Rust)\"]\n    C --&gt; R[\"AI Inference (KServe, optional)\"]\n    F --&gt; G[Control Plane: CRDs &amp; Helm Charts]\n    G --&gt; H[Terraform IaC]\n    H --&gt; J[Compute Layer]\n    subgraph Compute Layer\n        J --&gt; K[Moodle Deployments]\n        J --&gt; L[\"Knative Services (optional)\"]\n        J --&gt; R\n    end\n    H --&gt; S[Data Persistence]\n    subgraph Data Persistence\n        S --&gt; T[RDS / CloudSQL]\n        S --&gt; U[\"Object Store (S3/GCS)\"]\n    end\n    H --&gt; V[Backup &amp; Jobs]\nsubgraph Backup &amp; Jobs\nV --&gt; W[CronJobs / Eventing]\nV --&gt; X[Rust Backup CLI]\nend\n</code></pre>"},{"location":"concepts/01-architecture/#2-component-descriptions","title":"2. Component Descriptions","text":""},{"location":"concepts/01-architecture/#21-api-gateway-ingress","title":"2.1 API Gateway / Ingress","text":"<ul> <li>Role: Terminates TLS, routes to Knative or k8s Deployments.</li> <li>Options: Istio, Contour, Kourier, AWS ALB.</li> </ul>"},{"location":"concepts/01-architecture/#22-kubernetes-cluster-with-optional-knative","title":"2.2 Kubernetes Cluster (with optional Knative)","text":"<ul> <li>Stateless Workloads: Moodle web Deployments (PHP-FPM), optional Knative Services, Rust micro\u2011services.</li> <li>Stateful or Control Workloads: Rust operator Deployment, CronJobs, KServe inference pods.</li> <li>Networking: One IngressController (Nginx, Istio, Traefik) exposed by the API Gateway.</li> </ul>"},{"location":"concepts/01-architecture/#23-moodle-web-tier-moodle-web-tier","title":"2.3 Moodle Web Tier Moodle Web Tier","text":"<ul> <li>PHP-FPM behind Nginx (or Apache): serves web UI.</li> <li>ObjectFS Plugin: abstracts filesystem to S3/GCS.</li> </ul>"},{"location":"concepts/01-architecture/#24-rust-operator","title":"2.4 Rust Operator","text":"<ul> <li>Custom Resource Definitions (CRDs): <code>MoodleCluster</code>, <code>MoodleBackup</code>, <code>MoodleScalePolicy</code>.</li> <li>Responsibilities:</li> <li>Provision &amp; reconcile Knative Services or k8s Deployments.</li> <li>Manage Helm releases via the Go-Helm SDK (FFI layer in Rust).</li> <li>Watch DB credentials in AWS SM / Vault and rotate if needed.</li> </ul>"},{"location":"concepts/01-architecture/#25-terraform-infrastructure","title":"2.5 Terraform &amp; Infrastructure","text":"<ul> <li>Terraform Modules: reusable modules for VPC, Kubernetes clusters, managed DB replicas, and object stores;   see docs/setup/terraform.md for detailed module layout and usage.</li> <li>Module Structure Example:</li> </ul> <pre><code>infra/terraform/\n\u251c\u2500\u2500 modules/\n\u2502   \u251c\u2500\u2500 vpc/\n\u2502   \u251c\u2500\u2500 k8s-cluster/\n\u2502   \u2514\u2500\u2500 db-replica/\n\u251c\u2500\u2500 environments/\n\u2502   \u251c\u2500\u2500 staging/\n\u2502   \u2514\u2500\u2500 production/\n\u2514\u2500\u2500 backend.tf\n</code></pre> <ul> <li>State Backend: remote state stored in S3 (or GCS) with DynamoDB locking (or Cloud KMS encryption).</li> </ul>"},{"location":"concepts/01-architecture/#26-data-persistence-data-persistence","title":"2.6 Data Persistence Data Persistence","text":"<ul> <li>Databases: Managed PostgreSQL/MySQL.</li> <li>File Storage: S3/GCS-backed via Moodle\u2019s ObjectFS.</li> <li>Cache &amp; Sessions: External Redis or Memcached cluster.</li> </ul>"},{"location":"concepts/01-architecture/#27-backup-jobs","title":"2.7 Backup &amp; Jobs","text":"<ul> <li>Rust Backup CLI: schedules and performs snap\u2011style backups of DB and object store.</li> <li>CronJobs / Knative Eventing: orchestrates periodic tasks.</li> </ul>"},{"location":"concepts/01-architecture/#28-ai-inference-kserve","title":"2.8 AI Inference (KServe)","text":"<ul> <li>Role: Hosts machine learning models for features like adaptive learning suggestions, content tagging, and   personalized recommendations.</li> <li>Integration: Deployed as a KServe <code>InferenceService</code> CRD on the Kubernetes cluster alongside Moodle services.</li> <li>Workload Types:</li> <li>CPU inference for lightweight models (e.g., logistic regression, decision trees).</li> <li> <p>GPU inference for deep learning models (e.g., BERT, CNNs) via GPU-enabled nodes.</p> </li> <li> <p>Model Versioning &amp; Rollouts:</p> </li> <li>Store model artifacts in object storage (S3/GCS) with semantic versioning (e.g., <code>model:v1.2.0</code>).</li> <li>Define KServe <code>CanaryRollout</code> policy to gradually shift traffic from the old revision to the new one.</li> <li> <p>Monitor inference metrics (latency, error rate) via Prometheus before promoting the new model.</p> </li> <li> <p>Storage: Model artifacts pulled at start-up via InitContainers; cached on local PVC for fast warm starts.</p> </li> <li>Autoscaling &amp; Scaling Policies:</li> <li>KServe\u2019s built-in autoscaler adjusts replica count based on request rate and GPU utilization.</li> <li>Configure <code>minReplicas</code> and <code>maxReplicas</code> to control cost and SLA.</li> </ul>"},{"location":"concepts/01-architecture/#3-deployment-models","title":"3. Deployment Models","text":"<p>Primary Target: A non-serverless setup using pure Kubernetes with HPA &amp; StatefulSets remains our recommended default for production workloads.</p> Model Description Pros Cons \ud83d\udc33 Pure Kubernetes k8s Deployments + HPA; StatefulSets for DB &amp; storage Production-ready, full control, rich ecosystem Operational complexity, setup overhead \u2601\ufe0f Cloud-Native Managed EKS/GKE + RDS + ElastiCache/Memorystore + Secrets Manager Simplified operations, auto-managed upgrades, high SLA Vendor lock-in, can be costlier \ud83d\udce6 Container-Only Docker Compose or ECS Fargate with external services Fast provisioning, low orchestration footprint Limited autoscaling, manual infra updates \ud83c\udfd7\ufe0f Bare Metal VMs or bare-metal servers running Docker or k3s Maximum performance, no virtualization overhead High ops burden, low elasticity \ud83c\udf10 Serverless (Optional) Knative Services for web &amp; micro-services Scale-to-zero, cost-efficient for low-traffic demos/tenants Cold-start latency, limited stateful support"},{"location":"concepts/01-architecture/#4-architecture-diagram","title":"4. Architecture Diagram","text":"<p>Below is a PlantUML diagram illustrating the high-level system, including client apps, external services, and key cluster components.</p> <pre><code>graph TD\n  subgraph \"External Services\"\n    RDS[\"RDS / CloudSQL\"]\n    OS[\"Object Store (S3/GCS)\"]\n  end\n\n  subgraph \"Kubernetes Cluster\"\n    MW[\"Moodle Web (Deployment)\"]\n    RD[\"Redis Cache &amp; Sessions\"]\n    OP[\"Moodle Operator (Rust)\"]\n    AI[\"AI Inference (KServe, optional)\"]\n    CJ[\"CronJobs / Eventing\"]\n    BK[\"Rust Backup CLI\"]\n  end\n\n  EU[\"End Users\"] --&gt; AGW[\"API Gateway / Ingress\"]\n  AGW --&gt; K8S{\"Kubernetes Cluster\"}\n  K8S --&gt; MW\n  MW --&gt; RD\n  K8S --&gt; OP\n  K8S --&gt; AI\n  K8S --&gt; CJ\n  K8S --&gt; BK\n\n  RDS --&gt; MW -- Data --&gt; OS\n  OS --&gt; MW\n  OP --&gt; RDS -- Config --&gt; OS\n  OS --&gt; OP\n  AI --&gt; OS -- Model Artifacts --&gt; RDS\n  OS --&gt; AI\n</code></pre>"},{"location":"guides/02-local-moodle-with-docker/","title":"Local Development Setup (Docker Compose)","text":"<p>This guide shows you how to spin up a complete local Moodle environment using Docker Compose, including custom PHP plugins and integration with Redis, MinIO, and MailDev.</p>"},{"location":"guides/02-local-moodle-with-docker/#prerequisites","title":"Prerequisites","text":"<ul> <li>Docker and Docker Compose (v1.27+)</li> <li>Git clone of the mono-repo:</li> </ul> <pre><code>git clone https://github.com/ourorg/moodle-platform.git\ncd moodle-platform\n</code></pre> <ul> <li>Folder layout: ensure you have <code>./plugins/</code> populated with your local plugins.</li> </ul>"},{"location":"guides/02-local-moodle-with-docker/#1-docker-compose-file","title":"1. Docker Compose File","text":"<p>Create or update <code>docker-compose.yml</code> at the repo root with the following content:</p>"},{"location":"guides/02-local-moodle-with-docker/#2-explanation-of-services","title":"2. Explanation of Services","text":"<ul> <li> <p>moodle: Bitnami Moodle image configured to connect to MariaDB, Redis (sessions &amp; cache), and MinIO (ObjectFS plugin).</p> </li> <li> <p>Mounts <code>././plugins</code> as read-only into <code>custom/plugins</code> so your local code is immediately available.</p> </li> <li>mariadb: MariaDB for Moodle\u2019s main database.</li> <li>redis: Redis for session storage and caching.</li> <li>minio: S3-compatible object store for Moodle\u2019s file storage.</li> <li>minio-init: Initializes the MinIO bucket and policy (runs once).</li> <li>maildev: SMTP testing UI for outgoing emails.</li> </ul>"},{"location":"guides/02-local-moodle-with-docker/#3-bring-up-the-stack","title":"3. Bring Up the Stack","text":"<pre><code># Start all services in detached mode\ndocker compose up -d\n\n# Monitor logs\ndocker compose logs -f moodle\n</code></pre> <ol> <li>Open http://localhost:8080 in your browser.</li> <li>Follow the Moodle web installer, connecting to the MariaDB database credentials above.</li> <li>After installation completes, verify your local plugins are listed under Site administration &gt; Plugins &gt; Local.</li> </ol>"},{"location":"guides/02-local-moodle-with-docker/#4-tips-troubleshooting","title":"4. Tips &amp; Troubleshooting","text":"<ul> <li>If you change plugin code in <code>./plugins</code>, Moodle may require a purge cache: append <code>?purge_caches=1</code> to any URL.</li> <li>To reset the database and Moodle data, run:</li> </ul> <pre><code>docker-compose down -v &amp;&amp; docker-compose up -d\n</code></pre> <ul> <li>To debug SMTP, navigate to http://localhost:1080 and trigger a password reset email from Moodle.</li> </ul>"}]}